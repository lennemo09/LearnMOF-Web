<!DOCTYPE html>
<html>
  <head>
    <title>Result</title>
  </head>
  <body>
    <h1>Result</h1>
    <img src="{{ url_for('uploaded_image', filename=result.image_path) }}" alt="Uploaded Image" width="800">
    <p>Predicted class: {{ result.predicted_class }}</p>
    <h3>Probabilities:</h3>
    <ul>
      {% for label, prob in result.probabilities.items() %}
      <li>{{ label }}: {{ "%.3f"|format(prob) }}</li>
      {% endfor %}
    </ul>
    <div>
        {{ result['chart_html']|safe }}  <!-- Insert the chart HTML -->
    </div>
    <br>
    {% if result.index == 0 %}
    <a href="{{ url_for('result', index=result.batch_size - 1) }}">Previous</a>
    {% else %}
    <a href="{{ url_for('result', index=result.index - 1) }}">Previous</a>
    {% endif %}
    
    {% if result.index == result.batch_size - 1 %}
    <a href="{{ url_for('result', index=0) }}">Next</a>
    {% else %}
    <a href="{{ url_for('result', index=result.index + 1) }}">Next</a>
    {% endif %}
  </body>
</html>
